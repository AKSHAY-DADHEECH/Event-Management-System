{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_1 = require(\"react\");\n\nclass Razorpay {\n  constructor(options) {\n    this.options = options;\n    this.rzrpayInstannce = new window.Razorpay(this.options);\n  }\n\n  on(event, callback) {\n    this.rzrpayInstannce.on(event, callback);\n  }\n\n  open() {\n    this.rzrpayInstannce.open();\n  }\n\n}\n\nconst useRazorpay = () => {\n  /* Constants */\n  const RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n  const checkScriptLoaded = (0, react_1.useCallback)(() => {\n    if (!(\"Razorpay\" in window)) return false;\n    return true;\n  }, []);\n  const loadScript = (0, react_1.useCallback)(scriptUrl => {\n    return new Promise((resolve, reject) => {\n      const scriptTag = document.createElement(\"script\");\n      scriptTag.src = scriptUrl;\n\n      scriptTag.onload = ev => resolve(ev);\n\n      scriptTag.onerror = err => reject(err);\n\n      document.body.appendChild(scriptTag);\n    });\n  }, []);\n  (0, react_1.useEffect)(() => {\n    if (!checkScriptLoaded()) {\n      (() => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n          yield loadScript(RAZORPAY_SCRIPT);\n        } catch (error) {\n          throw new Error(error);\n        }\n      }))();\n    }\n  }, []);\n  return Razorpay;\n};\n\nexports.default = useRazorpay;","map":null,"metadata":{},"sourceType":"script"}