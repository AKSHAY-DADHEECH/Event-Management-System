{"ast":null,"code":"var _jsxFileName = \"E:\\\\CDAC-PROJECT\\\\frontend\\\\src\\\\component\\\\login\\\\ForgotPassword.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { url } from \"../common/constants\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport \"./EmpLogin.css\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nconst ForgotPassword = e => {\n  _s();\n\n  const history = useHistory();\n  const [email, setemail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setcPassword] = useState(\"\");\n  const [otp, setotp] = useState(\"\");\n  const [confirmOtp, setConfirmotp] = useState(\"\");\n\n  const GenerateAndSendOTP = () => {\n    console.log(email);\n    toast.info(\"Sending OTP on your Email...\");\n    axios.get(url + \"/generateotp/\" + email).then(Response => {\n      console.log(Response.data);\n      setConfirmotp(Response.data);\n      toast.success(\"OTP has been sent to your email\");\n    }).catch(error => {\n      console.log('Something went wrong', error);\n    });\n  };\n\n  const HandleOtp = () => {\n    if (confirmOtp == otp) {\n      if (password == cpassword) {\n        const Credential = {\n          email,\n          password\n        };\n        axios.put(url + \"/changepassword\", Credential).then(Response => {\n          console.log(Response.data);\n          Swal.fire('Password Changed Successfully', '', 'success');\n          history.push(\"/\");\n        }).catch(error => {\n          console.log('Something went wrong', error);\n        });\n      } else {\n        console.log(\"password and confirm password not matched\");\n        Swal.fire({\n          icon: 'error',\n          title: 'Please Cofirm Password same as Password',\n          text: '',\n          footer: ''\n        });\n      }\n    } else {\n      console.log(\"wrong otp\");\n      Swal.fire({\n        icon: 'error',\n        title: 'Please Enter Correct OTP',\n        text: '',\n        footer: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"forms-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 mt-3 position-absolute top-50 start-50 translate-middle loginform\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Forgot Password ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-4 mx-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Email\",\n          className: \"form-label mb-0 h5\",\n          children: \"Enter Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"input-fields-l w-75\",\n            id: \"Email\",\n            \"aria-describedby\": \"emailHelp\",\n            value: email,\n            onChange: e => {\n              setemail(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-l bg-success\",\n            onClick: GenerateAndSendOTP,\n            children: \"Get otp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 mt-4 mx-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          className: \"form-label mb-0 h5\",\n          children: \"Enter New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"input-fields-l\",\n          id: \"password\",\n          value: password,\n          onChange: e => {\n            setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 mx-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"cpassword\",\n          className: \"form-label mb-0 h5\",\n          children: \"Confirm New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"input-fields-l\",\n          id: \"cpassword\",\n          value: cpassword,\n          onChange: e => {\n            setcPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"otp\",\n          className: \"form-label mb-0 h5\",\n          children: \"Enter OTP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input-fields-l w-75\",\n            id: \"otp\",\n            value: otp,\n            onChange: e => {\n              setotp(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-l bg-primary\",\n            onClick: HandleOtp,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ForgotPassword, \"BBMyu+1u4w66jx7NVB4gD7RfmTc=\", false, function () {\n  return [useHistory];\n});\n\n_c = ForgotPassword;\nexport default ForgotPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"sources":["E:/CDAC-PROJECT/frontend/src/component/login/ForgotPassword.js"],"names":["axios","useState","useHistory","url","toast","Swal","configure","ForgotPassword","e","history","email","setemail","password","setPassword","cpassword","setcPassword","otp","setotp","confirmOtp","setConfirmotp","GenerateAndSendOTP","console","log","info","get","then","Response","data","success","catch","error","HandleOtp","Credential","put","fire","push","icon","title","text","footer","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { url } from \"../common/constants\";\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport \"./EmpLogin.css\"\r\nimport Swal from \"sweetalert2\";\r\n\r\ntoast.configure();\r\nconst ForgotPassword = (e) => {\r\n    const history = useHistory();\r\n    const [email, setemail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [cpassword, setcPassword] = useState(\"\")\r\n    const [otp, setotp] = useState(\"\")\r\n    const [confirmOtp, setConfirmotp] = useState(\"\")\r\n    const GenerateAndSendOTP = () => {\r\n        console.log(email);\r\n        toast.info(\"Sending OTP on your Email...\");\r\n        axios.get(url + \"/generateotp/\" + email)\r\n            .then(Response => {\r\n                console.log(Response.data);\r\n                setConfirmotp(Response.data);\r\n                toast.success(\"OTP has been sent to your email\");\r\n            })\r\n            .catch(error => {\r\n                console.log('Something went wrong', error);\r\n            })\r\n    };\r\n    const HandleOtp = () => {\r\n        if (confirmOtp == otp) {\r\n            if (password == cpassword) {\r\n                const Credential = { email, password }\r\n                axios.put(url + \"/changepassword\", Credential).then(Response => {\r\n                    console.log(Response.data);\r\n                    Swal.fire(\r\n                        'Password Changed Successfully',\r\n                        '',\r\n                        'success'\r\n                      )\r\n                      history.push(\"/\")\r\n                    })\r\n                    .catch(error => {\r\n                        console.log('Something went wrong', error);\r\n                    })\r\n            }\r\n            else{ \r\n                console.log(\"password and confirm password not matched\");\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Please Cofirm Password same as Password',\r\n                    text: '',\r\n                    footer: ''\r\n                })\r\n            }\r\n        }else{\r\n            console.log(\"wrong otp\");\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Please Enter Correct OTP',\r\n                text: '',\r\n                footer: ''\r\n              })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"forms-container\">\r\n\r\n            <div className=\"p-3 mt-3 position-absolute top-50 start-50 translate-middle loginform\">\r\n\r\n                <h2>\r\n                    Forgot Password ?\r\n                </h2>\r\n                <div className=\"my-4 mx-5\">\r\n                    <label htmlFor=\"Email\" className=\"form-label mb-0 h5\">Enter Email</label>\r\n                    <div>\r\n                        <input type=\"email\" className=\"input-fields-l w-75\" id=\"Email\" aria-describedby=\"emailHelp\" value={email} onChange={(e) => { setemail(e.target.value) }} />&nbsp;&nbsp;\r\n                        <button className=\"btn btn-l bg-success\" onClick={GenerateAndSendOTP}>Get otp</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <h2>\r\n                    Change Password\r\n                </h2>\r\n                <div className=\"mb-2 mt-4 mx-5\">\r\n                    <label htmlFor=\"password\" className=\"form-label mb-0 h5\">Enter New Password</label>\r\n                    <input type=\"password\" className=\"input-fields-l\" id=\"password\" value={password} onChange={(e) => { setPassword(e.target.value) }} />\r\n                </div>\r\n                <div className=\"mb-2 mx-5\">\r\n                    <label htmlFor=\"cpassword\" className=\"form-label mb-0 h5\">Confirm New Password</label>\r\n                    <input type=\"password\" className=\"input-fields-l\" id=\"cpassword\" value={cpassword} onChange={(e) => { setcPassword(e.target.value) }} />\r\n                </div>\r\n                <div className=\"mx-5\">\r\n                    <label htmlFor=\"otp\" className=\"form-label mb-0 h5\">Enter OTP</label>&nbsp;&nbsp;\r\n                    <div>\r\n                        <input type=\"text\" className=\"input-fields-l w-75\" id=\"otp\" value={otp} onChange={(e) => { setotp(e.target.value) }} />&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <button type=\"button\" className=\"btn btn-l bg-primary\" onClick={HandleOtp}>Confirm</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}