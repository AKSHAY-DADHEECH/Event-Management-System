{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project main cdac\\\\Event managment system\\\\frontend\\\\src\\\\component\\\\login\\\\EmployeeLogin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport authHeader from \"../services/auth-header\";\nimport axios from \"axios\";\nimport \"./LoginRegister.css\";\nimport log from \"../../images/log.svg\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { url } from \"../common/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EmployeeLogin = () => {\n  _s();\n\n  const history = useHistory();\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [error, seterror] = useState(\"\");\n  const [errortype, seterrortype] = useState(\"\");\n\n  if (localStorage.getItem('jwttoken') && localStorage.getItem('role') === \"ADMIN\") {\n    history.push(\"/admin/welcome\");\n  } else if (localStorage.getItem('jwttoken') && localStorage.getItem('role') === \"MANAGER\") {\n    history.push(\"/manager/welcome\");\n  } else if (localStorage.getItem('jwttoken') && localStorage.getItem('role') === \"EMPLOYEE\") {\n    history.push(\"/employee/welcome\");\n  } else if (localStorage.getItem('jwttoken') && localStorage.getItem('role') === \"CUSTOMER\") {\n    history.push(\"/customer/welcome\");\n  }\n\n  const Login = e => {\n    e.preventDefault();\n    const employee = {\n      email,\n      password\n    };\n    axios.post(url + \"/login\", employee, {\n      authHeader\n    }).then(Response => {\n      console.log(Response.data.role);\n      console.log(Response.data.jwt);\n\n      if (Response.data.jwt && Response.status == 200) {\n        localStorage.setItem('jwttoken', JSON.stringify(Response.data.jwt));\n\n        if (Response.data.role == '[ROLE_MANAGER]') {\n          localStorage.setItem('role', \"MANAGER\");\n          history.push(\"manager/welcome\");\n        } else if (Response.data.role == '[ROLE_EMPLOYEE]') {\n          localStorage.setItem('role', \"EMPLOYEE\");\n          history.push(\"employee/welcome\");\n        } else if (Response.data.role == '[ROLE_ADMIN]') {\n          localStorage.setItem('role', \"ADMIN\");\n          history.push(\"admin/welcome\");\n        } else {\n          seterrortype(\"alert-box\");\n          seterror(\"INVALID CREDENTIALS or AUTHORITY\");\n        }\n      }\n    }).catch(error => {\n      setemail(\"\");\n      setpassword(\"\");\n      seterror(\"INVALID CREDENTIALS\");\n      seterrortype(\"alert-box\");\n      console.log('Something went wrong', error);\n    });\n  };\n\n  useEffect(() => {\n    const container = document.querySelector(\".container-l\");\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-l\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forms-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signin-signup\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"#\",\n            className: \"sign-in-form l-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"title fw-bold\",\n              children: \"Team Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"input-fields-l\",\n              placeholder: \"Email\",\n              value: email,\n              onChange: e => {\n                setemail(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"input-fields-l\",\n              placeholder: \"Password\",\n              value: password,\n              onChange: e => {\n                setpassword(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"Login\",\n              className: \"btn-l solid\",\n              onClick: Login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn text-white\",\n              to: \"/forgotpassword\",\n              children: \"Forgot Password ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: errortype,\n              role: \"alert\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panels-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel left-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content pt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"pt-5 pb-3\",\n              children: \"Hello, Folks!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: log,\n            className: \"image-l\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EmployeeLogin, \"FcLF4enwb6VSMfa78+AbjlMw1jM=\", false, function () {\n  return [useHistory];\n});\n\n_c = EmployeeLogin;\nexport default EmployeeLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmployeeLogin\");","map":{"version":3,"sources":["E:/Project main cdac/Event managment system/frontend/src/component/login/EmployeeLogin.js"],"names":["React","useEffect","useState","authHeader","axios","log","Link","useHistory","url","EmployeeLogin","history","email","setemail","password","setpassword","error","seterror","errortype","seterrortype","localStorage","getItem","push","Login","e","preventDefault","employee","post","then","Response","console","data","role","jwt","status","setItem","JSON","stringify","catch","container","document","querySelector","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport authHeader from \"../services/auth-header\";\nimport axios from \"axios\";\nimport \"./LoginRegister.css\";\nimport log from \"../../images/log.svg\"\nimport { Link, useHistory } from \"react-router-dom\";\nimport { url } from \"../common/constants\";\n\nconst EmployeeLogin = () => {\n\n\n\n\n\n\n  const history = useHistory();\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [error, seterror] = useState(\"\");\n  const [errortype, seterrortype] = useState(\"\");\n\n  if( localStorage.getItem('jwttoken') && localStorage.getItem('role')===\"ADMIN\"){\n    history.push(\"/admin/welcome\")\n  }else if( localStorage.getItem('jwttoken') && localStorage.getItem('role')===\"MANAGER\"){\n    history.push(\"/manager/welcome\")\n  }else if( localStorage.getItem('jwttoken') && localStorage.getItem('role')===\"EMPLOYEE\"){\n    history.push(\"/employee/welcome\")\n  }else if(localStorage.getItem('jwttoken') && localStorage.getItem('role')===\"CUSTOMER\" ) {\n    history.push(\"/customer/welcome\");\n  }\n   \n  \n\n \n\n\n  const Login = (e) => {\n    e.preventDefault();\n    const employee = { email, password };\n    axios.post(url + \"/login\", employee, { authHeader }).then((Response) => {\n      console.log(Response.data.role);\n\n      console.log(Response.data.jwt);\n      if (Response.data.jwt && Response.status == 200) {\n        localStorage.setItem('jwttoken', JSON.stringify(Response.data.jwt));\n        if (Response.data.role == '[ROLE_MANAGER]') {\n          localStorage.setItem('role', \"MANAGER\");\n          history.push(\"manager/welcome\");\n        }\n        else if (Response.data.role == '[ROLE_EMPLOYEE]') {\n          localStorage.setItem('role', \"EMPLOYEE\");\n          history.push(\"employee/welcome\")\n        }\n        else if (Response.data.role == '[ROLE_ADMIN]') {\n          localStorage.setItem('role', \"ADMIN\");\n          history.push(\"admin/welcome\")\n        }\n        else {\n          seterrortype(\"alert-box\");\n          seterror(\"INVALID CREDENTIALS or AUTHORITY\")\n        }\n      }\n    }\n    ).catch(error => {\n      setemail(\"\");\n      setpassword(\"\");\n      seterror(\"INVALID CREDENTIALS\");\n      seterrortype(\"alert-box\");\n      console.log('Something went wrong', error);\n    });\n\n  }\n\n  useEffect(() => {\n    const container = document.querySelector(\".container-l\");\n  });\n  return (\n    <div>\n      <div className=\"container-l\">\n        <div className=\"forms-container\">\n          <div className=\"signin-signup\">\n            <form action=\"#\" className=\"sign-in-form l-form\">\n              <h2 className=\"title fw-bold\">Team Sign In</h2>\n              <input type=\"text\" className=\"input-fields-l\" placeholder=\"Email\" value={email} onChange={(e) => { setemail(e.target.value) }} />\n              <input type=\"password\" className=\"input-fields-l\" placeholder=\"Password\" value={password} onChange={(e) => { setpassword(e.target.value) }} />\n              <input type=\"submit\" value=\"Login\" className=\"btn-l solid\" onClick={Login} />\n              <Link className=\"btn text-white\" to={\"/forgotpassword\"}>Forgot Password ?</Link>\n              <div className={errortype} role=\"alert\">{error}</div>\n            </form>\n          </div>\n        </div>\n\n        <div className=\"panels-container\">\n          <div className=\"panel left-panel\">\n            <div className=\"content pt-5\">\n              <h1 className=\"pt-5 pb-3\">Hello, Folks!</h1>\n\n            </div>\n            <img src={log} className=\"image-l\" alt=\"\" />\n          </div>\n\n        </div>\n      </div>\n\n    </div>\n  );\n}\nexport default EmployeeLogin;\n"]},"metadata":{},"sourceType":"module"}